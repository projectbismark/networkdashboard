{% extends "base.html" %}
{% block content %}

<div class="content">
	<div style="float: right">
        <a class="btn" href="/"><i class="icon-home"></i> Home</a>
    </div>
	{% if country != 'none' and city != 'none' %}
		<br />
		<br />
		<h2>{{isp}} ({{country}})</h2>
		<ul class="breadcrumb">
			<li>
				<a href="/">Home</a> <span class="divider">/</span>
			</li>
			<li>
				<a href="/compare_by_country/{{country}}">{{country}}</a> <span class="divider">/</span>
			</li>
			<li>
				<a href="/compare_by_city/{{city}}/{{country}}">{{city}}</a> <span class="divider">/</span>
			</li>
			<li class="active">
				<a href="#">{{isp}} </a>
			</li>
		</ul>
	{% endif %}
	{% if country != 'none' and city == 'none' %}
		<br />
		<br />
		<h2>{{isp}} ({{country}})</h2>
		<ul class="breadcrumb">
			<li>
				<a href="/">Home</a> <span class="divider">/</span>
			</li>
			<li>
				<a href="/compare_by_country/{{country}}">{{country}}</a> <span class="divider">/</span>
			</li>
			<li class="active">
				{{isp}}
			</li>
		</ul>
	{% endif %}
	{% if country == 'none' %}
		<br />
		<br />
		<h2>{{isp}} Device Averages</h2>
		<ul class="breadcrumb">
			<li>
				<a href="/">Home</a> <span class="divider">/</span>
			</li>
			<li class="active">
				{{isp}}
			</li>
		</ul>
	{% endif %}
	<br /><br /><br />
	<form>
		<input id="country_name" type="hidden" value="{{country}}"/>
		<input id="isp_name" type="hidden" value="{{isp}}"/>
		<input id="start_date" type = "hidden" value="{{start_year}}-{{start_month}}-{{start_day}}" />
		<input id="end_date" type = "hidden" value="{{end_year}}-{{end_month}}-{{end_day}}" />
	</form>
    <table class="table table-striped table-condensed" id="table_3">
		<tr>
			<form class="form-horizontal">
			  <fieldset>
				<div class="control-group">
				  <label class="control-label" for="calendar">Select Date Range:</label>
				  <div class="controls">
					<div class="input-prepend">
					  <span class="add-on"><i class="icon-calendar"></i></span><input type="text" name="reservation" id="calendar" />
					</div>
				  </div>
				</div>
			  </fieldset>
			</form>
		</tr>
        <tr>
            <td>Show:</td>
            <td class ="right">
				<select id="measurement_type">
					<option value="down" selected = "selected">Download Throughput</option>
					<option value="up">Upload Throughput</option>
					<option value="lm">Latency (Last-Mile)</option>
					<option value="rtt">Latency (Round-Trip)</option>
				</select>
			</td>
        </tr>
		<tr>
			<td>Number of devices (maximum):
			<td class="right">
				<select id="max_devices">
					<option value=1>1</option>
					<option value=2>2</option>
					<option value=3>3</option>
					<option value=4>4</option>
					<option value=5>5</option>
					<option value=6>6</option>
					<option value=7>7</option>
					<option value=8>8</option>
					<option value=9 selected="selected">9</option>
					<option value=10>10</option>
					<option value=11>11</option>
					<option value=12>12</option>
					<option value=13>13</option>
					<option value=14>14</option>
					<option value=15>15</option>
					<option value=16>16</option>
					<option value=17>17</option>
				</select>
			</td>
		</tr>
		<!--
		<tr>
			<td>Show data from the last:
			<td class="right">
				<select id="days">
					<option value=10>10 days</option>
					<option value=20>20 days</option>
					<option value=30 selected="selected">30 days</option>
					<option value=40>40 days</option>
					<option value=50>50 days</option>
				</select>
			</td>
		</tr>
		-->
		<tr>
			<td></td>
			<td class = "right">
				<button class="btn" id="compare_button" onclick="compareByIsp('{{isp}}')"> Update Data</button>
			</td>
		</tr>
    </table>
	<ul id="tab" class="nav nav-tabs" style="clear: both">
		<li class="active"><a href="#graph_avg" data-toggle="tab">Performance Averages</a></li>
		<li><a href="#graph_plot" data-toggle="tab">Device Graphs</a></li>
	</ul>
	<div class="tab-content">
		<div class="tab-pane active in" id="graph_avg">
			<div class="graphdiv" id="graph_div_6"></div>
			<div id="load_bar" class="progress_wrapper">
				<div class="progress progress-info progress-striped active">
					<div class="bar" style="width: 100%"></div>
				</div>
			</div>
		</div>
		<div class="tab-pane" id="graph_plot">
			<div class="graphdiv" id="graph_div_7"></div>
		</div>
	</div>
</div>

<script type="text/javascript">
    compareByIsp();
	$('#calendar').daterangepicker(
			{ 
				format: 'YYYY-MM-DD',
				startDate: $('#start_date').val(),
				endDate: $('#end_date').val()
			},
			function(start, end) {
				$('#start_date').val(start.format('YYYY-MM-DD'));
				$('#end_date').val(end.format('YYYY-MM-DD'));
            }
	);
</script>
{% endblock %}
